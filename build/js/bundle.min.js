!function t(e,a,n){function o(i,r){if(!a[i]){if(!e[i]){var h="function"==typeof require&&require;if(!r&&h)return h(i,!0);if(s)return s(i,!0);throw new Error("Cannot find module '"+i+"'")}var u=a[i]={exports:{}};e[i][0].call(u.exports,function(t){var a=e[i][1][t];return o(a?a:t)},u,u.exports,t,e,a,n)}return a[i].exports}for(var s="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(t,e,a){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),s=function(){function t(e){n(this,t),this.name=e,this.health=100,this.damage=0,this.maxDamage=0,this.criticalChance=16,this.potionHealth=!0,this.criticDamage=0,this.frozen=!0,this.statusSkill=!0}return o(t,[{key:"simpleAttack",value:function(){this.damage=Math.floor(24*Math.random()),Math.floor(100*Math.random())<=this.criticalChance?(this.damage+=this.damage+1*this.damage,this.criticDamage=this.damage,this.health-=this.damage,this.maxDamage+=this.damage):(this.health-=this.damage,this.maxDamage+=this.damage,this.criticDamage=0)}},{key:"usePotionHealth",value:function(){this.potionHealth&&(this.health+=50,this.potionHealth=!1)}},{key:"useFrozen",value:function(){this.frozen=!1}}]),t}();a["default"]=s},{}],2:[function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.Dashboard=void 0;var s=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),i=t("./character.js"),r=n(i),h=(a.Dashboard=function(){function t(){o(this,t),this.components={keysItem:{w:87,a:65,s:83,d:68},playerName:document.querySelector(".player-name"),health:document.querySelector(".health"),wrapLog:document.querySelector(".logs"),elLogs:document.querySelectorAll(".logs p"),elKeys:document.querySelectorAll(".key"),messages:document.querySelector(".messages"),animateLog:document.querySelector(".log-animate"),numbersLogs:document.querySelector(".numbers-logs")},this.gameStatus=!1,this.logs=[],this.currentLog=0}return s(t,[{key:"attackProcess",value:function(t,e){t.health>0&&e.health>0&&(t.simpleAttack(),e.health-=t.damage,t.health+=t.damage,this.damageInfo(t),e.health<=0&&this.diedInfo(e)),this.gameStatus=!0}},{key:"round",value:function(t){var e=this,a=t.keyCode,n=Math.floor(2001*Math.random())+1e3;!this.gameStatus&&65==a&&h.statusSkill&&(h.health>0&&this.attackProcess(h,u),u.health>0&&setTimeout(function(){u.potionHealth&&Math.floor(100*Math.random())<=25&&u.health<=50?(u.usePotionHealth(),e.potionInfo(u)):u.frozen&&Math.floor(100*Math.random())<=25&&u.health<=50?(u.useFrozen(),e.frozenInfo(u),h.statusSkill=!1,setTimeout(function(){e.attackProcess(u,h),e.updateHealth(),h.statusSkill=!0,e.gameStatus=!1},n)):(e.attackProcess(u,h),e.updateHealth()),e.gameStatus=!1},n)),!this.gameStatus&&68==a&&h.statusSkill&&h.potionHealth&&(h.usePotionHealth(),this.potionInfo(h),h.statusSkill=!1,setTimeout(function(){e.attackProcess(u,h),e.updateHealth(),h.statusSkill=!0,e.gameStatus=!1},n)),!this.gameStatus&&87==a&&h.statusSkill&&h.frozen&&(h.useFrozen(),this.frozenInfo(h));for(var o=function(t){a==parseInt(e.components.elKeys[t].getAttribute("data-key"))&&(e.components.elKeys[t].classList.add("key-active"),setTimeout(function(){e.components.elKeys[t].classList.remove("key-active")},300))},s=0;s<this.components.elKeys.length;s++)o(s);this.updateHealth(),this.chatScroll()}},{key:"createLog",value:function(){var t=this;this.singleLog=document.createElement("p"),this.singleLog.classList.add("log_"+this.currentLog),this.logs.forEach(function(e,a){t.singleLog.innerHTML=e}),this.currentLog++,this.components.wrapLog.appendChild(this.singleLog)}},{key:"damageInfo",value:function(t){t.criticDamage>0?(this.logs.push(t.name+": critical damage "+t.damage),this.animateLog(t)):0==t.damage?(this.logs.push(t.name+": missed"),this.animateLog(t)):this.logs.push(t.name+": damage "+t.damage),this.createLog(),this.updateLogs(),this.chatScroll()}},{key:"potionInfo",value:function(t){this.logs.push(t.name+": use potion health"),this.createLog(),this.animateLog(t),this.updateLogs(),this.chatScroll()}},{key:"frozenInfo",value:function(t){this.logs.push(t.name+": your opponent is frozen"),this.createLog(),this.animateLog(t),this.updateLogs(),this.chatScroll()}},{key:"diedInfo",value:function(t){this.logs.push(t.name+": died"),this.animateLog(t),this.createLog(),this.updateLogs(),this.chatScroll()}},{key:"updateHealth",value:function(){this.components.health.innerHTML=h.health,this.components.playerName.innerHTML=h.name}},{key:"updateLogs",value:function(){this.components.numbersLogs.innerHTML=this.currentLog+"/"+this.currentLog}},{key:"animateLog",value:function(t){var e=this,a=this.logs[this.logs.length-1],n=t.name.length+2,o=a.slice(n,a.length);this.components.animateLog.innerHTML=o,this.components.animateLog.classList.add("active"),setTimeout(function(){e.components.animateLog.classList.remove("active")},2e3)}},{key:"chatScroll",value:function(){this.components.wrapLog.scrollTop=this.components.wrapLog.scrollHeight}},{key:"init",value:function(){this.gameStatus||document.addEventListener("keydown",this.round.bind(this),!1),this.updateHealth(),this.updateLogs()}}]),t}(),new r["default"]("You")),u=new r["default"]("Opponent")},{"./character.js":1}],3:[function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var o=t("./character.js"),s=(n(o),t("./dashboard.js"));window.addEventListener("load",function(){var t=new s.Dashboard;t.init()})},{"./character.js":1,"./dashboard.js":2}]},{},[3]);