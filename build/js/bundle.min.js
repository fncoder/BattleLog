!function t(e,a,o){function n(s,h){if(!a[s]){if(!e[s]){var r="function"==typeof require&&require;if(!h&&r)return r(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var l=a[s]={exports:{}};e[s][0].call(l.exports,function(t){var a=e[s][1][t];return n(a?a:t)},l,l.exports,t,e,a,o)}return a[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(t,e,a){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function t(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,a,o){return a&&t(e.prototype,a),o&&t(e,o),e}}(),i=function(){function t(e){o(this,t),this.name=e,this.health=100,this.damage=0,this.maxDamage=0,this.criticalChance=16,this.potionHealth=!0,this.criticDamage=0,this.frozen=!0,this.statusSkill=!0,this.poisonDamage=0,this.poison=!0,this.timePoisoning=0,this.poisonChance=16}return n(t,[{key:"simpleAttack",value:function(){this.damage=Math.floor(24*Math.random()),Math.floor(100*Math.random())<=this.criticalChance?(this.damage+=this.damage+1*this.damage,this.criticDamage=this.damage,this.health-=this.damage,this.maxDamage+=this.damage):(this.health-=this.damage,this.maxDamage+=this.damage,this.criticDamage=0)}},{key:"poisonAttack",value:function(){this.damage=Math.floor(10*Math.random()),Math.floor(100*Math.random())<=this.poisonChance&&this.poison?(this.timePoisoning=3,this.poisonDamage=Math.floor(21*Math.random())+10,this.health-=this.damage,this.maxDamage+=this.damage,this.poison=!1):(this.health-=this.damage,this.maxDamage+=this.damage,this.timePoisoning-=1,0===this.timePoisoning&&(this.timePoisoning=0,this.poisonDamage=0,this.poison=!0))}},{key:"usePotionHealth",value:function(){this.potionHealth&&(this.health+=50,this.potionHealth=!1)}},{key:"useFrozen",value:function(){this.frozen=!1}}]),t}();a["default"]=i},{}],2:[function(t,e,a){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.Dashboard=void 0;var i=function(){function t(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,a,o){return a&&t(e.prototype,a),o&&t(e,o),e}}(),s=t("./character.js"),h=o(s),r=(a.Dashboard=function(){function t(){n(this,t),this.components={keysItem:{w:87,a:65,s:83,d:68},playerName:document.querySelector(".player-name"),health:document.querySelector(".health"),wrapLog:document.querySelector(".logs"),elLogs:document.querySelectorAll(".logs p"),elKeys:document.querySelectorAll(".key"),messages:document.querySelector(".messages"),animateLog:document.querySelector(".log-animate"),numbersLogs:document.querySelector(".numbers-logs")},this.gameStatus=!1,this.logs=[],this.currentLog=0}return i(t,[{key:"attackProcess",value:function(t,e,a){t.health>0&&e.health>0&&(a(),e.health-=t.damage,t.health+=t.damage,t.timePoisoning>0?e.health-=t.poisonDamage:(t.poisonDamage=0,t.poison=!0),this.damageInfo(t),e.health<=0&&(this.diedInfo(e),this.gameStatus=!0))}},{key:"round",value:function(t){var e=this,a=t.keyCode;65===a&&r.statusSkill&&r.health>0&&(r.statusSkill=!1,r.timePoisoning>0&&(r.timePoisoning-=1),this.attackProcess(r,l,r.simpleAttack.bind(r)),this.opponentSet()),68===a&&r.statusSkill&&r.health>0&&r.potionHealth&&(r.statusSkill=!1,r.usePotionHealth(),this.potionInfo(r),this.opponentSet()),87===a&&r.statusSkill&&r.health>0&&r.frozen&&(r.useFrozen(),this.frozenInfo(r)),83===a&&r.statusSkill&&r.health>0&&(r.statusSkill=!1,this.attackProcess(r,l,r.poisonAttack.bind(r)),this.opponentSet());for(var o=function(t){a===parseInt(e.components.elKeys[t].getAttribute("data-key"))&&(e.components.elKeys[t].classList.add("key-active"),setTimeout(function(){e.components.elKeys[t].classList.remove("key-active")},300))},n=0;n<this.components.elKeys.length;n++)o(n);this.updateHealth(),this.chatScroll()}},{key:"opponentSet",value:function(){var t=this,e=Math.floor(2001*Math.random())+1e3;l.health>0&&setTimeout(function(){l.potionHealth&&Math.floor(100*Math.random())<=25&&l.health<=50?(l.usePotionHealth(),t.potionInfo(l),r.statusSkill=!0):l.frozen&&Math.floor(100*Math.random())<=25&&l.health<=75?(l.useFrozen(),t.frozenInfo(l),setTimeout(function(){Math.floor(100*Math.random())<=35&&l.poison?t.attackProcess(l,r,l.poisonAttack.bind(l)):(l.timePoisoning-=1,t.attackProcess(l,r,l.simpleAttack.bind(l))),t.updateHealth(),r.statusSkill=!0},e)):(Math.floor(100*Math.random())<=l.poisonChance&&l.poison?t.attackProcess(l,r,l.poisonAttack.bind(l)):(l.timePoisoning-=1,t.attackProcess(l,r,l.simpleAttack.bind(l))),t.updateHealth(),r.statusSkill=!0)},e)}},{key:"createLog",value:function(){var t=this;this.singleLog=document.createElement("p"),this.singleLog.classList.add("log_"+this.currentLog),this.logs.forEach(function(e,a){t.singleLog.innerHTML=e}),this.currentLog++,this.components.wrapLog.appendChild(this.singleLog)}},{key:"damageInfo",value:function(t){t.criticDamage>0&&0===t.poisonDamage?(this.logs.push(t.name+": critical damage "+t.damage),this.animateLog(t)):0===t.damage&&t.poison?(this.logs.push(t.name+": missed"),this.animateLog(t)):t.poisonDamage>0&&0===t.damage?this.logs.push(t.name+": missed and damage "+t.poisonDamage+" from poisoning"):t.poisonDamage>0&&t.criticDamage>0?this.logs.push(t.name+": critical damage "+t.damage+" and damage "+t.poisonDamage+" from poisoning"):t.poisonDamage>0?this.logs.push(t.name+": damage "+t.damage+" and damage "+t.poisonDamage+" from poisoning"):this.logs.push(t.name+": damage "+t.damage),this.createLog(),this.updateLogs(),this.chatScroll()}},{key:"potionInfo",value:function(t){this.logs.push(t.name+": use potion health"),this.createLog(),this.animateLog(t),this.updateLogs(),this.chatScroll()}},{key:"frozenInfo",value:function(t){this.logs.push(t.name+": your opponent is frozen"),this.createLog(),this.animateLog(t),this.updateLogs(),this.chatScroll()}},{key:"diedInfo",value:function(t){this.logs.push(t.name+": died"),this.animateLog(t),this.createLog(),this.updateLogs(),this.chatScroll()}},{key:"updateHealth",value:function(){this.components.health.innerHTML=r.health,this.components.playerName.innerHTML=r.name}},{key:"updateLogs",value:function(){this.components.numbersLogs.innerHTML=this.currentLog+"/"+this.currentLog}},{key:"animateLog",value:function(t){var e=this,a=this.logs[this.logs.length-1],o=t.name.length+2,n=a.slice(o,a.length);this.components.animateLog.innerHTML=n,this.components.animateLog.classList.add("active"),setTimeout(function(){e.components.animateLog.classList.remove("active")},2e3)}},{key:"chatScroll",value:function(){this.components.wrapLog.scrollTop=this.components.wrapLog.scrollHeight}},{key:"init",value:function(){this.gameStatus||document.addEventListener("keydown",this.round.bind(this),!1),this.updateHealth(),this.updateLogs()}}]),t}(),new h["default"]("You")),l=new h["default"]("Opponent")},{"./character.js":1}],3:[function(t,e,a){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}var n=t("./character.js"),i=(o(n),t("./dashboard.js"));window.addEventListener("load",function(){var t=new i.Dashboard;t.init()})},{"./character.js":1,"./dashboard.js":2}]},{},[3]);