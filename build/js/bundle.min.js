!function t(e,n,o){function a(i,u){if(!n[i]){if(!e[i]){var h="function"==typeof require&&require;if(!u&&h)return h(i,!0);if(s)return s(i,!0);throw new Error("Cannot find module '"+i+"'")}var r=n[i]={exports:{}};e[i][0].call(r.exports,function(t){var n=e[i][1][t];return a(n?n:t)},r,r.exports,t,e,n,o)}return n[i].exports}for(var s="function"==typeof require&&require,i=0;i<o.length;i++)a(o[i]);return a}({1:[function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=function(){function t(e){o(this,t),this.name=e,this.health=100,this.damage=0,this.maxDamage=0,this.criticalChance=16,this.potionHealth=!0,this.criticDamage=0,this.frozen=!0,this.statusSkill=!1,this.poisonDamage=0,this.poison=!0,this.timePoisoning=0,this.poisonChance=16}return a(t,[{key:"simpleAttack",value:function(){this.damage=Math.floor(24*Math.random()),Math.floor(100*Math.random())<=this.criticalChance?(this.damage+=this.damage+1*this.damage,this.criticDamage=this.damage,this.health-=this.damage,this.maxDamage+=this.damage):(this.health-=this.damage,this.maxDamage+=this.damage,this.criticDamage=0)}},{key:"poisonAttack",value:function(){this.damage=Math.floor(10*Math.random()),Math.floor(100*Math.random())<=this.poisonChance&&this.poison?(this.timePoisoning=3,this.poisonDamage=Math.floor(21*Math.random())+10,this.health-=this.damage,this.maxDamage+=this.damage,this.poison=!1):(this.health-=this.damage,this.maxDamage+=this.damage,this.timePoisoning-=1,0===this.timePoisoning&&(this.timePoisoning=0,this.poisonDamage=0,this.poison=!0))}},{key:"usePotionHealth",value:function(){this.potionHealth&&(this.health+=50,this.potionHealth=!1)}},{key:"useFrozen",value:function(){this.frozen=!1}}]),t}();n["default"]=s},{}],2:[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0}),n.player2=n.player1=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),h=t("./character.js"),r=o(h),l=t("./sound.js"),c=o(l),m=n.player1=new r["default"]("You"),d=n.player2=new r["default"]("Opponent"),p=function(t){function e(){a(this,e);var t=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.components={keysItem:{w:87,a:65,s:83,d:68},playerName:document.querySelector(".player-name"),health:document.querySelector(".health"),wrapLog:document.querySelector(".logs"),elLogs:document.querySelectorAll(".logs p"),elKeys:document.querySelectorAll(".key"),messages:document.querySelector(".messages"),animateLog:document.querySelector(".log-animate"),numbersLogs:document.querySelector(".numbers-logs")},t.gameStatus=!1,t.logs=[],t.currentLog=0,t}return i(e,t),u(e,[{key:"attackProcess",value:function(t,e,n){t.health>0&&e.health>0&&(n(),e.health-=t.damage,t.health+=t.damage,t.timePoisoning>0?e.health-=t.poisonDamage:(t.poisonDamage=0,t.poison=!0),this.damageInfo(t),e.health<=0&&this.logInfo(e,"died"))}},{key:"round",value:function(t){var e=this,n=t.keyCode;65!==n||m.statusSkill?68!==n||m.statusSkill?87!==n||m.statusSkill?83!==n||m.statusSkill||m.health>0&&(m.statusSkill=!0,this.attackProcess(m,d,m.poisonAttack.bind(m)),this.opponentSet(),this.initSound(n)):m.health>0&&m.frozen&&(m.useFrozen(),this.logInfo(m,"your opponent is frozen"),this.initSound(n)):m.health>0&&m.potionHealth&&(m.statusSkill=!0,m.usePotionHealth(),this.logInfo(m,"use potion health"),this.opponentSet(n),this.initSound(n)):m.health>0&&(m.statusSkill=!0,m.timePoisoning>0&&(m.timePoisoning-=1),this.attackProcess(m,d,m.simpleAttack.bind(m)),this.opponentSet(n),this.initSound(n));for(var o=function(t){n===parseInt(e.components.elKeys[t].getAttribute("data-key"))&&(e.components.elKeys[t].classList.add("key-active"),setTimeout(function(){e.components.elKeys[t].classList.remove("key-active")},300))},a=0;a<this.components.elKeys.length;a++)o(a);this.updateHealth()}},{key:"opponentSet",value:function(t){var e=this,n=Math.floor(2001*Math.random())+1e3;d.health>0&&setTimeout(function(){d.potionHealth&&Math.floor(100*Math.random())<=25&&d.health<=50?(d.usePotionHealth(),e.logInfo(d,"use potion health"),e.initSound(e.components.keysItem.d),m.statusSkill=!1):d.frozen&&Math.floor(100*Math.random())<=25&&d.health<=75?(d.useFrozen(),e.initSound(e.components.keysItem.w),e.logInfo(d,"your opponent is frozen"),setTimeout(function(){Math.floor(100*Math.random())<=35&&d.poison?(e.attackProcess(d,m,d.poisonAttack.bind(d)),e.initSound(e.components.keysItem.s)):(d.timePoisoning-=1,e.attackProcess(d,m,d.simpleAttack.bind(d)),e.initSound(e.components.keysItem.a)),e.updateHealth(),m.statusSkill=!1},n)):(Math.floor(100*Math.random())<=d.poisonChance&&d.poison?(e.attackProcess(d,m,d.poisonAttack.bind(d)),e.initSound(e.components.keysItem.s)):(d.timePoisoning-=1,e.attackProcess(d,m,d.simpleAttack.bind(d)),e.initSound(e.components.keysItem.a)),e.updateHealth(),m.statusSkill=!1)},n)}},{key:"createLog",value:function(){var t=this;this.singleLog=document.createElement("p"),this.singleLog.classList.add("log_"+this.currentLog),this.logs.forEach(function(e,n){t.singleLog.innerHTML=e}),this.currentLog++,this.components.wrapLog.appendChild(this.singleLog),this.components.wrapLog.scrollTop=this.components.wrapLog.scrollHeight}},{key:"animateLog",value:function(t){var e=this,n=this.logs[this.logs.length-1],o=t.name.length+2,a=n.slice(o,n.length);this.components.animateLog.innerHTML=a,this.components.animateLog.classList.add("active"),setTimeout(function(){e.components.animateLog.classList.remove("active")},2e3)}},{key:"damageInfo",value:function(t){t.criticDamage>0&&0===t.poisonDamage?(this.logs.push(t.name+": critical damage "+t.damage),this.animateLog(t)):0===t.damage&&t.poison?(this.logs.push(t.name+": missed"),this.animateLog(t)):t.poisonDamage>0&&0===t.damage?this.logs.push(t.name+": missed and damage "+t.poisonDamage+" from poisoning"):t.poisonDamage>0&&t.criticDamage>0?this.logs.push(t.name+": critical damage "+t.damage+" and damage "+t.poisonDamage+" from poisoning"):t.poisonDamage>0?this.logs.push(t.name+": damage "+t.damage+" and damage "+t.poisonDamage+" from poisoning"):this.logs.push(t.name+": damage "+t.damage),this.createLog(),this.updateLogs()}},{key:"logInfo",value:function(t,e){this.logs.push(t.name+": "+e),this.createLog(),this.animateLog(t),this.updateLogs()}},{key:"updateHealth",value:function(){this.components.health.innerHTML=m.health,this.components.playerName.innerHTML=m.name}},{key:"updateLogs",value:function(){this.components.numbersLogs.innerHTML=this.currentLog+"/"+this.currentLog}},{key:"init",value:function(){this.gameStatus||document.addEventListener("keydown",this.round.bind(this),!1),this.status(),this.updateHealth(),this.updateLogs()}}]),e}(c["default"]);n["default"]=p},{"./character.js":1,"./sound.js":4}],3:[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}var a=t("./dashboard.js"),s=o(a),i=new s["default"];i.init()},{"./dashboard.js":2}],4:[function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=function(){function t(){o(this,t),this.soundStatus=!0,this.soundTheme=!0,this.sound=document.createElement("audio"),this.themeSound=document.createElement("audio"),this.btnSound=document.querySelector(".btn-sound")}return a(t,[{key:"play",value:function(t){if(this.soundStatus)switch(t){case 65:this.sound.src="sounds/hit_sound.wav",this.sound.play();break;case 68:this.sound.src="sounds/potion_sound.wav",this.sound.play();break;case 87:this.sound.src="sounds/frozen_sound.wav",this.sound.play();break;case 83:this.sound.src="sounds/poison_sound.wav",this.sound.play()}}},{key:"theme",value:function(){var t=this;this.soundStatus&&(this.themeSound.src="sounds/pim_poy_pocket.wav",this.themeSound.play(),this.themeSound.addEventListener("ended",function(){t.themeSound.src="sounds/pim_poy.wav",t.themeSound.play()}))}},{key:"pauseTheme",value:function(){this.soundTheme=!this.soundTheme,this.soundTheme?(this.btnSound.classList.remove("off"),this.themeSound.play()):(this.btnSound.classList.add("off"),this.themeSound.pause())}},{key:"status",value:function(){this.btnSound.addEventListener("click",this.pauseTheme.bind(this)),this.theme()}},{key:"initSound",value:function(t){this.play(t)}}]),t}();n["default"]=s},{}]},{},[3]);